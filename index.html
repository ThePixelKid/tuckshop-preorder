<!DOCTYPE html>
<html lang="en">
<head>
  <title>Tuck Shop Preorder</title>
  <link rel="stylesheet" href="css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="container">
    <header class="card">
      <div style="display:flex;align-items:center;gap:12px;">
        <h1>Tuck Shop Preorder</h1>
        <a href="admin.html" class="admin-link btn btn--ghost">Admin Dashboard</a>
      </div>      <div id="userInfo" style="display:flex;align-items:center;gap:12px;margin-top:12px;">
        <span id="userDisplay" style="font-size:14px;color:#666;"></span>
        <button id="logoutBtn" class="admin-link" style="cursor:pointer;">Logout</button>
        <a href="account.html" id="loginLink" class="admin-link">Login / Register</a>
      </div>      <p id="statusMsg" class="muted"></p>
    </header>

    <section class="main-content">
      <div class="menu-cart-container">
        <section class="menu-section card">
          <h2>Menu</h2>
          <div id="menu"></div>
        </section>

        <div class="sidebar">
          <section class="cart-section card">
            <h2>Your Cart</h2>
            <div id="cart"></div>
          </section>

          <section class="form-section card">
            <h2>Your Details</h2>
            <form id="orderForm">
              <input id="studentName" list="studentNames" placeholder="Your name (from account)" readonly required style="display:none;">
              <input id="accountId" type="text" placeholder="Account ID (optional)" style="display:none;">
              <select id="studentForm" required style="display:none;">
                <option value="Fortune Osalusi">
                <option value="Fechi Ogwo">
                <option value="Fehintoluwa Afolayan">
                <option value="Gabrielle Patrick-Isicheli">
                <option value="Julian Ekuerhare">
                <option value="Folami Aderounmu">
                <option value="Khalil Mohammed">
                <option value="Nnaemeka Chukwuneta">
                <option value="Oyindamola Fakuade">
                <option value="Oluwatamilore Adeosun">
                <option value="Oluwatomisin Ogunjana">
                <option value="Richard Fayose">
                <option value="Ayotunde Adenihun">
                <option value="Abimifoluwa Aliu">
                <option value="Christine Osian">
                <option value="Daniel Dickson">
                <option value="Binchukwu Ochonugor">
                <option value="Kachi Obiagwu">
                <option value="Jeremy Ezetendu">
                <option value="Kasite Andy-Wabali">
                <option value="Louis Folajimi">
                <option value="Nichole Smatt-Oni">
                <option value="Nathan Etim-Inyang">
                <option value="Pelumi Adeoye">
                <option value="Seun Odeniyi">
                <option value="Toukpe Meggison">
                <option value="Simone Amba">
                <option value="Ogheneochuko Ufuoma">
                <option value="Akinolude Oshikanlu">
                <option value="Samuel Essiet">
                <option value="Lawale Junior Wale-Falope">
                <option value="iTofunmi Macaulay">
                <option value="Isaiah Baje">
                <option value="Darasimi Adekunle">
                <option value="Alfareed Momoh">
                <option value="Ebube Isiekwena">
                <option value="Mobolaoluwabo Oyeyiola">
                <option value="Chidiebube Ogboke">
                <option value="Dipo Ogunjana">
                <option value="Olutoni Idowu">
                <option value="Toristeju Wilbert">
                <option value="Urechi Ugorji">
                <option value="Temisan Ghereje">
                <option value="Oluwagbotemi Ogunnaike">
                <option value="Oluwatitojumi Samuel-lpaye">
                <option value="Michelle Ifegbuike">
                <option value="Erhimeyoma Alex-Eyitene">
                <option value="Jordan Bajlaiye">
                <option value="Janis Nwobodo">
                <option value="Biobele Longjohn">
                <option value="Kiibaati Opasanya">
                <option value="Beauty Amininim">
                <option value="Abudulrahman Balogun">
                <option value="Moji Vincent">
                <option value="Luca Onyejianya">
                <option value="Chika Nwazezeigwe">
                <option value="Ifeakanna Akabogu">
                <option value="Ayooluwa Ogunbiyi">
                <option value="Chinenye Akpa">
                <option value="Tanitoluwa Aboderin">
                <option value="Ayomide Akinmoluwa">
                <option value="Michelle Ogwezi">
                <option value="Olayinka">
                <option value="Tumlse">
                <option value="Zara">
                <option value="Winlfred Aladenusi">
                <option value="Goodluck Nnaka">
                <option value="Tishe Adebayo">
                <option value="Dorcas Soril-Ekpo">
                <option value="Dara Durodola">
                <option value="Desmond Amokeodo">
              </datalist>
              <select id="studentForm" required>
                <option value="">Select Form</option>
                <option>AS</option>
                <option>A2</option>
              </select>
              <button id="orderBtn" class="btn btn--primary" type="submit">Place Order</button>
            </form>
          </section>
        </div>
      </div>
    </section>
  </div>

  <script type="module" src="js/menu.js"></script>
  <script type="module" src="js/order.js"></script>

  <script src="js/cart-drawer.js" defer></script>

  <!-- Firebase SDKs and initialization handled by `js/firebase.js` -->
  <script type="module" src="js/firebase.js"></script>

  <script type="module">
    import { getCurrentUser, isLoggedIn } from './js/auth-utils.js';
    
    // Check if logged in and redirect if not
    if (!isLoggedIn()) {
      window.location.href = 'account.html';
    } else {
      const user = getCurrentUser();
      // Set student name from account
      document.getElementById('studentName').value = user.name;
      document.getElementById('studentForm').value = user.form;
    }
  </script>
</body>
</html>
